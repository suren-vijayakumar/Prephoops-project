prepHoopsApp.controller("AdminController",["$scope","$http","$modal",function(e,t,o){function i(o){t.post("network/addsite",o).then(function(){e.adminForm={},n()})}function n(){t.get("network").then(function(t){e.sites=t.data,e.sitesSelector=e.sites})}e.adminForm={},e.editForm={},e.sites=[],e.sitesSelector=[];var s;n(),e.assignSiteID=function(){return t.get("network/lastid").then(function(t){s=t.data.siteID,s||(s=0),e.adminForm.siteID=s+1,i(e.adminForm)})},e.changedValue=function(t){t&&(e.editForm.editShortName=t.siteShortName,e.editForm.editFullName=t.siteFullName,e.editForm.editRssURL=t.rssURL,e.editForm.editSiteID=t.siteID,e.editForm.editID=t._id)},e.editSite=function(o){var i=o.editID;t.put("network/editsite/"+i,o).then(function(t,o){200!=t.status?console.log("Error on Edit is: ",t):(e.editForm={},n())})},e.removeSite=function(t){this.site.siteShortName,this.site._id;e.animationsEnabled=!0,e.idToDelete=this.site._id;o.open({animation:e.animationsEnabled,templateUrl:"/assets/views/routes/adminDelete.html",controller:"SiteDeleteInstanceController",size:t,resolve:{idToDelete:function(){return e.idToDelete}}})}}]),prepHoopsApp.controller("SiteDeleteInstanceController",["$scope","$http","$modalInstance","$location","idToDelete",function(e,t,o,i,n){e.confirmRemove=function(){console.log("You clicked the OK Button!"),t["delete"]("network/deletesite/"+n).then(function(e,t){t?console.log("Error on Delete is: ",t):i.path("/dashboard")}),o.close()},e.cancel=function(){o.close()}}]);